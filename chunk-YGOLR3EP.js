import{a as u}from"./chunk-E6PGGP4I.js";import{J as n,M as a,Sb as o,a as i,b as p,p as t}from"./chunk-LRQC4R4T.js";var m=class s{constructor(e){this.http=e}apiUrl=`${u.apiUrl}/groups`;getGroups(){return this.http.get(this.apiUrl).pipe(t(e=>e.map(r=>this.mapGroupResponse(r))))}getGroup(e){return this.http.get(`${this.apiUrl}/${e}`).pipe(t(r=>this.mapGroupResponse(r)))}createGroup(e){return this.http.post(this.apiUrl,e).pipe(t(r=>this.mapGroupResponse(r)))}updateGroup(e,r){return this.http.put(`${this.apiUrl}/${e}`,r).pipe(t(l=>this.mapGroupResponse(l)))}getMyGroups(){return this.http.get(`${this.apiUrl}/my`).pipe(t(e=>e.map(r=>this.mapGroupResponse(r))))}mapGroupResponse(e){return p(i({},e),{members:e.members??e.users??[],createdAt:e.createdAt?new Date(e.createdAt):void 0,updatedAt:e.updatedAt?new Date(e.updatedAt):void 0,isPublic:e.isPublic??e.is_public??!1})}deleteGroup(e){return this.http.delete(`${this.apiUrl}/${e}`)}static \u0275fac=function(r){return new(r||s)(a(o))};static \u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})};export{m as a};
